process Refit = 
{

  # initialize  MessageLogger
  service = MessageLogger
  {
    vstring destinations =
    {
      "log","cout","cerr"
    }

    PSet log =
    {
      string threshold = "INFO"
    }
  
    PSet cout =
    {
      string threshold = "INFO"
    }
  
    PSet cerr =
    {
      string threshold = "INFO"
    }
      untracked vstring debugModules = {"TrackRefitter"} 
  }

  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:Tracks.root"}
    untracked int32 maxEvents = -1
  }
  # tracker geometry
  #include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  #Magnetic Field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  es_source = XMLIdealGeometryESSource
  {
     FileInPath GeometryConfiguration="Geometry/TrackerRecoData/data/trackerRecoConfiguration.xml"
     string rootNodeName = ""
  }

  es_module = TrackerGeometricDetESModule {}
  es_module = TrackerRecoGeometryESProducer {}
  es_module = TrackerDigiGeometryESModule {}

  # track refit with material
  include "RecoTracker/TrackProducer/test/RefitterWithMaterial.cfi"

  module out = PoolOutputModule 
  {
    untracked string fileName = "RefittedTracks.root"
  }

  path p = 
  {
    TrackRefitter
  }

  endpath e = 
  {
    out
  }
}
