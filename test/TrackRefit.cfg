process Refit = 
{

  # initialize  MessageLogger
   service = MessageLogger
   {
      untracked vstring destinations = {"cout"}
      untracked PSet cout            = {
					untracked string threshold = "INFO"
					untracked PSet default = { untracked int32 limit = 10000000  }
					untracked PSet FwkJob = { untracked int32 limit = 0 }
				    }
      untracked vstring debugModules = {"TrackRefitter"} 

      untracked vstring fwkJobReports = {"FrameworkJobReport.xml"}
      untracked vstring categories = { "FwkJob" }
      untracked PSet FrameworkJobReport.xml = {
                untracked PSet default = { untracked int32 limit = 0 }
                untracked PSet FwkJob  = { untracked int32 limit = 10000000 }
                                              }

   }

  source = PoolSource 
  { 
    untracked vstring fileNames = {"file:Tracks.root"}
    untracked int32 maxEvents = -1
  }
  # tracker geometry
  #include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  #Magnetic Field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  es_source = XMLIdealGeometryESSource
  {
     FileInPath GeometryConfiguration="Geometry/TrackerRecoData/data/trackerRecoConfiguration.xml"
     string rootNodeName = ""
  }

  es_module = TrackerGeometricDetESModule {}
  es_module = TrackerRecoGeometryESProducer {}
  es_module = TrackerDigiGeometryESModule {}

  # track refit with material
  include "RecoTracker/TrackProducer/test/RefitterWithMaterial.cfi"

  module out = PoolOutputModule 
  {
    untracked string fileName = "RefittedTracks.root"
  }

  path p = 
  {
    TrackRefitter
  }

  endpath e = 
  {
    out
  }
}
